[[gridftp-command-client]]
= GridFTP Client Commands =

[[globus-url-copy]]
= GLOBUS-URL-COPY(1) =
:doctype: manpage
:man source: 

== NAME ==
globus-url-copy - Multi-protocol data movement

== SYNOPSIS ==
**++globus-url-copy++** 

== Tool description ==

**++globus-url-copy++** is a scriptable command line tool that can do
multi-protocol data movement. It supports gsiftp:// (GridFTP), ftp://,
http://, https://, and file:/// protocol specifiers in the URL. For
GridFTP, globus-url-copy supports all implemented functionality.
Versions from GT 3.2 and later support file globbing and directory
moves.




* link:#globus-url-copy-before[Before you begin]

* link:#globus-url-copy-syntax[Command syntax]

* link:../..gridftp/user/index.html#globus-url-copy-commandlineoptions[Command
line options] 

* link:#globus-url-copy-informationaloptions[Informational options]

* link:#globus-url-copy-utilityoptions[Utility options]

* link:#globus-url-copy-reliability[Reliability options]

* link:#globus-url-copy-performanceoptions[Performance options]

* link:#globus-url-copy-securityoptions[Security-related options]

* link:#globus-url-copy-defaultusage[Default usage]

* link:#globus-url-copy-modes[MODES in GridFTP]

* link:#globus-url-copy-manualserver[If you run a GridFTP server by hand]

* link:#globus-url-copy-tcpbuffervalue[How do I choose a value for the TCP
buffer size ('-tcp-bs') option?]

* link:#globus-url-copy-parallelismvalue[How do I choose a value for the
parallelism ('-p') option?]

* link:#globus-url-copy-limitations[Limitations]

* link:#globus-url-copy-interactiveclients[Interactive clients for
GridFTP]



[[globus-url-copy-before]]
== Before you begin ==

[IMPORTANT]
--
To use ++gsiftp://++ and  and ++https://++ protocols in globus-url-copy, you must have a  protocols in globus-url-copy, you must have a link:../../admin/install/index.html#gtadmin-basic-host[certificate]. However, you may use ++ftp://++, , ++http://++ or  or ++sshftp://++ protocols without a certificate. protocols without a certificate.
--


. First, as with all things Grid, you **must** have a valid proxy
certificate to run globus-url-copy in certain protocols (++gsiftp://++
and  and ++https://++, as noted above). If you are using , as noted
above). If you are using ++ftp://++, , ++http://++ or  or ++sshftp://++
protocols, you may skip ahead to  protocols, you may skip ahead to
link:#globus-url-copy-syntax[Command syntax]
+
If you do not have a certificate, you must
link:../../admin/install/index.html#gtadmin-basic-host[obtain one].
+
If you are doing this for testing in your own environment, the
link:../../admin/install/appendix.html#gtadmin-simpleca[SimpleCA]
provided with the Globus Toolkit should suffice.
+
If not, you must contact the Virtual Organization (VO) with which you
are associated to find out whom to ask for a certificate.
+
One common source is the
http://www.doegrids.org/pages/cert-request.htm[DOE Science Grid CA],
although you must confirm whether or not the resources you wish to
access will accept their certificates.
+
Instructions for proper installation of the certificate should be
provided from the source of the certificate.
+
Please note when your certificates expire; they will need to be renewed
or you may lose access to your resources.

. Now that you have a certificate, you must generate a temporary proxy. Do
this by running: 
+
--------
grid-proxy-init 
--------
+
Further documentation for **++grid-proxy-init++** can be found
link:../..gsic/developer/index.html#grid-proxy-init[here].

. You are now ready to use **++globus-url-copy++**! See the following
sections for syntax and command line options and other considerations.



[[globus-url-copy-syntax]]
== Command syntax ==

The basic syntax for **++globus-url-copy++** is: 

--------
globus-url-copy [optional command line switches] Source_URL Destination_URL 
--------
where:



+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
<informaltable>
      <tgroup cols='2'>
        <tbody>
          <row>
            <entry>[optional command line switches]</entry>
            <entry>See <olink targetdoc='gridftpUser' targetptr='globus-url-copy-commandlineoptions'>Command line options</olink> below for a list of available options. </entry>
          </row>
          <row>
            <entry>
              <para><replaceable>Source_URL</replaceable></para>
            </entry>
            <entry>
              <para>Specifies the original URL of the file(s) to be copied. </para>
              <para>If this is a directory, all files within that directory will be copied. </para>
            </entry>
          </row>
          <row>
            <entry>
              <para><replaceable>Destination_URL</replaceable></para>
            </entry>
            <entry>
              <para> Specifies the URL where you want to copy the files.</para>
              <para>If you want to copy multiple files, this must be a directory. </para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

[NOTE]
--
Any url specifying a directory must end with **++/++**.
--



[[urlprefixes]]
=== URL prefixes ===

Versions from GT 3.2 and later support the following URL prefixes:




* **++file://++** (on a local machine only)

* **++ftp://++**

* **++gsiftp://++**

* **++http://++**

* **++https://++**


Versions from GT 4.2 and later support the following URL prefix (in
addition to the above-mentioned URL prefixes):




* **++sshftp://++**


[NOTE]
--
We do **not** provide an interactive client similar to the generic FTP client provided with Linux. See the link:#globus-url-copy-interactiveclients[Interactive Clients] section below for information on an interactive client developed by NCSA/NMI/TeraGrid.
--




[[syncurlformats]]
=== URL formats ===

URLs can be any valid URL as defined by RFC 1738 that have a
link:#urlprefixes[protocol] we support. In general, they have the
following format: .

[NOTE]
--
If the path ends with a trailing / (i.e. ++/path/to/directory/++) it will be considered to be a directory and all files in that directory will be moved. If you want a recursive directory move, you need to add the ) it will be considered to be a directory and all files in that directory will be moved. If you want a recursive directory move, you need to add the link:#globus-url-copy-utilityoptions[-r / -recurse] switch described below.
--




+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
<table>
        <title>URL formats</title>
        <tgroup cols='2'>
          <tbody>
            <row>
              <entry><filename>gsiftp://myhost.mydomain.com:2812/data/foo.dat</filename></entry>
              <entry>Fully specified.</entry>
            </row>
            <row>
              <entry><filename>http://myhost.mydomain.com/mywebpage/default.html</filename></entry>
              <entry>Port is not specified; therefore, GridFTP uses protocol default (in this case,
                  <computeroutput>80</computeroutput>).</entry>
            </row>
            <row>
              <entry><filename>file:///foo.dat</filename></entry>
              <entry>Host is not specified; therefore, GridFTP uses your local host. Port is not
                specified; therefore, GridFTP uses protocol default (in this case, <computeroutput>80</computeroutput>).</entry>
            </row>
            <row>
              <entry><filename>file:/foo.dat</filename></entry>
              <entry>This is also valid but is not recommended because, while many servers
                (including ours) accept this format, it is <emphasis>not</emphasis> RFC conformant
                and is not recommended.</entry>
            </row>
          </tbody>
        </tgroup>
      </table>
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

[IMPORTANT]
--
For GridFTP (++gsiftp://++) and FTP () and FTP (++ftp://++), it is legal
to specify a user name and password in the the URL as follows:), it is
legal to specify a user name and password in the the URL as follows:
--------
 gsiftp://myname:[mypassword]@myhost.mydomain.com/foo.dat
--------
If you are using GSI security, then you may specify the username (but
you may **not** include the ++:++ or the password) and the grid-mapfile
will be searched to see if that is a valid account mapping for your
distinguished name (DN). If it is found, the server will setuid to that
account. If not, it will fail. It will NOT fail back to your default
account.
If you are using anonymous FTP, the username **must** be one of the
usernames listed as a valid anonymous name and the password can be
anything.
If you are using password authentication, you must specify both your
username and password. THIS IS HIGHLY DISCOURAGED, AS YOU ARE SENDING
YOUR PASSWORD IN THE CLEAR ON THE NETWORK. This is worse than no
security; it is a false illusion of security.

--


[[globus-url-copy-commandlineoptions]]
== Command line options ==


[[globus-url-copy-informationaloptions]]
=== Informational Options ===



**-help | -usage**::
     Prints help.

**-version**::
     Prints the version of this program.

**-versions**::
     Prints the versions of all modules that this program uses.

**-q | -quiet**::
     Suppresses all output for successful operation.

**-vb | -verbose**::
     During the transfer, displays: 

* number of bytes transferred,

* performance since the last update (currently every 5 seconds), and

* average performance for the whole transfer.

**-dbg | -debugftp**::
     Debugs FTP connections and prints the entire control channel protocol
exchange to STDERR.
+
Very useful for debugging. Please provide this any time you are
requesting assistance with a globus-url-copy problem.

**-list <url>**::
     This option will display a directory listing for the given url.

**-nl-bottleneck | -nlb**::
     This option uses NetLogger to estimate speeds of disk and network
read/write system calls, and attempt to determine the bottleneck
component. [NOTE]
--
In order to use this, the server must be configured to
http://www.cedps.net/index.php/Gridftp-netlogger[enable netlogger
bottleneck detection].

--




[[globus-url-copy-utilityoptions]]
=== Utility Ease of Use Options ===



**-a | -ascii**::
     Converts the file to/from ASCII format to/from local file format.

**-b | -binary**::
     Does not apply any conversion to the files. This option is turned on by
default.

**-cd | -create-dest**::
     Create destination directories, if needed

**-f 'filename'**::
     Reads a list of URL pairs from a filename.
+
Each line should contain:
+
--------
sourceURL destURL 
--------
+
Enclose URLs with spaces in double quotes ("). Blank lines and lines
beginning with the hash sign (#) will be ignored.

**-r | -recurse**::
     Copies files in subdirectories.

**-rp | -relative-paths**::
     The path portion of ftp urls will be interpereted as relative to the
user's starting directory on the server. By default, all paths are
root-relative. When this flag is set, the path portion of the ftp url
must start with %2F if it designates a root-relative path.

**-notpt | -no-third-party-transfers**::
     Turns third-party transfers off (on by default).
+
Site firewall and/or software configuration may prevent a connection
between the two servers (a third party
                transfer). If
this is the case, globus-url-copy will "relay" the data. It will do a
GET from the source and a PUT to the destination.
+
This obviously causes a performance penalty but will allow you to
complete a transfer you otherwise could not do.




[[globus-url-copy-reliability]]
=== Reliability Options ===



**-rst | -restart**::
     Restarts failed FTP operations.

**-rst-retries <retries>**::
     Specifies the maximum number of times to retry the operation before
giving up on the transfer.
+
Use 0 for infinite.
+
The default value is 5.

**-rst-interval <seconds>**::
     Specifies the interval in seconds to wait after a failure before
retrying the transfer.
+
Use 0 for an exponential backoff.
+
The default value is 0.

**-rst-timeout <seconds>**::
     Specifies the maximum time after a failure to keep retrying.
+
Use 0 for no timeout.
+
The default value is 0.

**-df <filename> | -dumpfile <filename>**::
     Specifies path to the file where untransferred urls will be saved for
later restarting. The resulting file is the same format as the '-f'
input file. If the file exists, it will be read and all other url input
will be ignored.

**-do <filename> | -dump-only <filename>**::
     Perform no write operations on the destination. Instead, all files that
would be transferred are enumerated and dumped to the specified file.
Resulting file is the same format as the -f input file. Note: if you
intend to use this file as input for a future transfer, the -create-dest
option will be required if any destination directories do not already
exist.

**-stall-timeout | -st <seconds>**::
     Specifies how long before cancelling/restarting a transfer with no data
movement. Set to 0 to disable. Default is 600 seconds.




[[globus-url-copy-performanceoptions]]
=== Performance Options ===



**-tcp-bs <size> | -tcp-buffer-size <size>**::
     Specifies the size (in bytes) of the TCP buffer to be used by the
underlying ftp data channels.
+
[IMPORTANT]
--
This is critical to good performance over the WAN. 

--
+
link:#globus-url-copy-tcpbuffervalue[How do I pick a value?]

**-p <parallelism> | -parallel <parallelism>**::
     Specifies the number of parallel data connections that should be used.
+
[NOTE]
--
This is one of the most commonly used options. 

--
+
link:#globus-url-copy-parallelismvalue[How do I pick a value?]

**-bs <block size> | -block-size <block size>**::
     Specifies the size (in bytes) of the buffer to be used by the underlying
transfer methods.

**-pp**::
     Allows pipelining. GridFTP is a command response protocol. A client
sends one command and then waits for a "Finished response" before
sending another. Adding this overhead on a per-file basis for a large
data set partitioned into many small files makes the performance suffer.
Pipelining allows the client to have many outstanding, unacknowledged
transfer commands at once. Instead of being forced to wait for the
"Finished response" message, the client is free to send transfer
commands at any time.

**-mc 'filename' 'source_url'**::
     Transfers a single file to many destinations. Filename is a
line-separated list of destination urls. For more information on this
option, click
link:../..gridftp/user/index.html#gridftp-user-experimental-multicasting[here].
+
Multicasting must be
link:../..gridftp/admin/index.html#gridftp-config-multi[enabled for use]
on the server side.[WARNING]
--
This option is EXPERIMENTAL. 

--

**-concurrency | -cc**::
     Specifies the number of concurrent FTP connections to use for multiple
transfers.

**-udt**::
     Uses UDT, a reliable UDP-based transport protocol, for data transfers.
+
[NOTE]
--
Note: In order to use this option, the server must be configured to use
link:../..gridftp/admin/index.html#gridftp-config-udt[UDT]. For third
party transfers, no change is required on the client side. For
client-server transfers, you need to enable threading in the client. To
switch to threaded flavor, set the environment variable
'GLOBUS_THREAD_MODEL=pthread'. 

--

**-fast**::
     Recommended when using GridFTP servers. Use MODE E for all data
transfers, including reusing data channels between list and transfer
operations.




[[globus-url-copy-securityoptions]]
=== Security Related Options ===



**-s <subject> | -subject <subject>**::
     Specifies a subject to match with both the source and destination
servers.
+
[NOTE]
--
Used when the server does not have access to the host certificate
(usually when you are running the server as a user). See
link:#globus-url-copy-manualserver[].

--

**-ss <subject> | -source-subject <subject>**::
     Specifies a subject to match with the source server.
+
[NOTE]
--
Used when the server does not have access to the host certificate
(usually when you are running the server as a user). See
link:#globus-url-copy-manualserver[].

--

**-ds <subject> | -dest-subject <subject>**::
     Specifies a subject to match with the destination server.
+
[NOTE]
--
Used when the server does not have access to the host certificate (usually when you are running the server as a user). See link:#globus-url-copy-manualserver[].
--

**-nodcau | -no-data-channel-authentication**::
     Turns off data channel authentication for FTP transfers (the default is
to authenticate the data channel). [WARNING]
--
We do **not** recommend this option, as it is a security risk. 

--

**-dcsafe | -data-channel-safe**::
     Sets data channel protection mode to SAFE.
+
Otherwise known as **integrity** or **checksumming**.
+
Guarantees that the data channel has not been altered, though a
malicious party may have observed the data. [WARNING]
--
Rarely used as there is a substantial performance penalty. 

--

**-dcpriv | -data-channel-private**::
     Sets data channel protection mode to PRIVATE.
+
The data channel is encrypted and checksummed.
+
Guarantees that the data channel has not been altered and, if observed,
it won't be understandable. [WARNING]
--
VERY rarely used due to the VERY substantial performance penalty. 

--




[[globus-url-copy-advancedoptions]]
=== Advanced Options ===



**-stripe**::
     Enables striped transfers on supported servers.

**-striped-block-size | -sbs**::
     Sets layout mode and blocksize for striped transfers.
+
If not set, the server defaults will be used.
+
If set to 0, partitioned mode will be used.
+
If set to >0, blocked mode will be used, with this setting used as the
blocksize.

**-t <transfer time in seconds>**::
     Runs the transfer for the specified number of seconds and then ends.
Useful for performance testing or forced restart loops.

**-ipv6**::
     Uses ipv6 when available. [WARNING]
--
This option is EXPERIMENTAL. Use at your own risk.

--

**-dp | -delayed-pasv**::
     Enables delayed passive.

**-g2 | -gridftp2**::
     Uses GridFTP v2 protocol enhancements when possible.

**-mn | -module-name <gridftp storage module name>**::
     Specifies the backend storage module to use for both the source and
destination in a GridFTP transfer.

**-mp | -module-parameters <gridftp storage module parameters>**::
     Specifies the backend storage module arguments to use for both the
source and destination in a GridFTP transfer.

**-smn | -src-module-name <gridftp storage module name>**::
     Specifies the backend storage module to use for the source file in a
GridFTP transfer.

**-smp | -src-module-parameters <gridftp storage module parameters>**::
     Specifies the backend storage module arguments to use for the source
file in a GridFTP transfer.

**-dmn | -dst-module-name <gridftp storage module name>**::
     Specifies the backend storage module to use for the destination file in
a GridFTP transfer.

**-dmp | -dst-module-parameters <gridftp storage module parameters>**::
     Specifies the backend storage module arguments to use for the
destination file in a GridFTP transfer.

**-aa | -authz-assert <authorization assertion file>**::
     Uses the assertions in the specified file to authorize access to both
the source and destination servers.

**-saa | -src-authz-assert <authorization assertion file>**::
     Uses the assertions in the specified file to authorize access to the
source server.

**-daa | -dst-authz-assert <authorization assertion file>**::
     Uses the assertions in the specified file to authorize access to the
destination server.

**-cache-aa | -cache-authz-assert**::
     Caches the authorization assertion for subsequent transfers.

**-cache-saa | -cache-src-authz-assert**::
     Caches the source authorization assertion for subsequent transfers.

**-cache-daa | -cache-dst-authz-assert**::
     Caches the destination authorization assertion for subsequent transfers.

**-nl-bottleneck | -nlb**::
     Uses NetLogger to estimate speeds of disk and network read/write system
calls, and attempt to determine the bottleneck component.
+
Note: In order to use this, the server must be configured to enable
netlogger bottleneck detection.

**-src-pipe | -SP <command line>**::
     Sets the source end of a remote transfer to use piped-in input with the
given command line.
+
[WARNING]
--
Do not use with the '-fsstack' option.

--

**-dst-pipe | -DP <command line>**::
     Sets the destination end of a remote transfer to write data to then
standard input of the program run via the given command line.
+
[WARNING]
--
Do not use with the '-fsstack' option.

--

**-pipe <command line>**::
     Sets both '-src-pipe' and '-dst-pipe' to the same value.

**-dcstack | -data-channel-stack**::
     Specifies the XIO driver stack for the network on both the source and
and the destination. Both must be GridFTP servers.

**-fsstack | -file-system-stack**::
     Specifies the XIO driver stack for the disk on both the source and the
destination. Both must be GridFTP servers.

**-src-dcstack | -source-data-channel-stack**::
     Specifies the XIO driver stack for the network on the source GridFTP
server.

**-src-fsstack | -source-file-system-stack**::
     Specifies the XIO driver stack for the disk on the source GridFTP
server.

**-dst-dcstack | -dest-data-channel-stack**::
     Specifies the XIO driver stack for the network on the destination
GridFTP server.

**-dst-fsstack | -dest-file-system-stack**::
     Specifies the XIO driver stack for the disk on the destination GridFTP
server.

**-cred <path to credentials or proxy file>, -src-cred | -sc <path to credentials or proxy file>, -dst-cred | -dc <path to credentials or proxy file>**::
     Specifies the credentials to use for source, destination, or both FTP
connections.

**-af <filename> | -alias-file <filename>**::
     Specifies a file that maps logical host aliases to lists of physical
hosts. When used with multiple concurrent connections, each connection
uses the next host in the list. Each line should either be an alias
(noted with the @ symbol), or a hostname[:port]. Currently, only the
aliases @source and @destination are valid, and they are used for every
source or destination url.




[[globus-url-copy-syncoptions]]
=== Synchronization Options ===



**-sync **::
     Only transfer files where the destination does not exist or differs from
the source. -sync-level controls how to determine if files differ.

**-sync-level <number>**::
     Choose critera for determining if files differ when performing a sync
transfer. Level 0 will only transfer if the destination does not exist.
Level 1 will transfer if the size of the destination does not match the
size of the source. Level 2 will transfer if the timestamp of the
destination is older than the timestamp of the source. Level 3 will
perform a checksum of the source and destination and transfer if the
checksums do not match. The default sync level is 2.




[[globus-url-copy-defaultusage]]
=== Default **++globus-url-copy++** usage ===

A **++globus-url-copy++** invocation using the **++gsiftp++** protocol
with no options (i.e., using all the defaults) will perform a transfer
with the following characteristics: 

* binary

* stream mode (which implies no parallelism)

* host default TCP buffer size

* encrypted and checksummed control channel

* an authenticated data channel





[[globus-url-copy-modes]]
=== MODES in GridFTP ===

GridFTP (as well as normal FTP) defines multiple wire protocols, or
MODES, for the data channel. 

Most normal FTP servers only implement stream
          mode (MODE S) ,
i.e. the bytes flow in order over a single TCP connection. GridFTP
defaults to this mode so that it is compatible with normal FTP servers.

However, GridFTP has another MODE, called Extended Block Mode, or MODE
E. This mode sends the data over the data channel in blocks. Each block
consists of 8 bits of flags, a 64 bit integer indicating the offset from
the start of the transfer, and a 64 bit integer indicating the length of
the block in bytes, followed by a payload of length bytes. Because the
offset and length are provided, out of order arrival is acceptable, i.e.
the 10th block could arrive before the 9th because you know explicitly
where it belongs. This allows us to use multiple TCP channels. If you
use the '-p | -parallelism' option, **++globus-url-copy++**
automatically puts the servers into MODE E.

[NOTE]
--
Putting '-p 1' is not the same as no **++-p++** at all. Both will use a
single stream, but the default will use stream mode and '-p 1' will use
MODE E. 

--


[[globus-url-copy-manualserver]]
=== If you run a GridFTP server by hand... ===

If you run a GridFTP server by hand, you will need to explicitly specify
the subject name to expect. The subject option provides
**++globus-url-copy++** with a way to validate the remote servers with
which it is communcating. Not only must the server trust
**++globus-url-copy++**, but **++globus-url-copy++** must trust that it
is talking to the correct server. The validation is done by comparing
host DNs or subjects.

If the GridFTP server in question is running under a
link:../../admin/install/index.html#gtadmin-basic-host[host certificate]
then the client assumes a subject name based on the server's canonical
DNS name. However, if it was started under a user certificate, as is the
case when a server is started by hand, then the expected subject name
must be explicitly stated. This is done with the '-ss', '-sd', and '-s'
options.



**-ss**::
     Sets the ++sourceURL++ subject.

**-ds**::
     Sets the ++destURL++ subject.

**-s**::
     If you use this option alone, it will set both urls to be the same. You
can see an example of this usage under the
link:../..gridftp/user/index.html#gridftp-troubleshooting[Troubleshooting]
section. [NOTE]
--
This is an **unusual** use of the client. Most times you need to specify
both URLs. 

--




[[choosingvalues]]
=== How do I choose a value? ===


[[globus-url-copy-tcpbuffervalue]]
=== How do I choose a value for the TCP buffer size ('-tcp-bs') option? ===

The value you should pick for the TCP buffer size ('-tcp-bs') depends on
how fast you want to go (your bandwidth) and how far you are moving the
data (as measured by the Round Trip Time (RTT) or the time it takes a
packet to get to the destination and back). 

To calculate the value for '-tcp-bs', use the following formula (this
assumes that Mega means 1000^2 rather than 1024^2, which is typical for
bandwidth):

'-tcp-bs' = bandwidth in Megabits per second (Mbs) * RTT in milliseconds
(ms) * 1000 / 8

As an example, if you are using fast ethernet (100 Mbs) and the RTT was
50 ms it would be:

'-tcp-bs' = 100 * 50 * 1000 / 8 = 625,000 bytes.

So, how do you come up with values for bandwidth and RTT? To determine
RTT, use either ping or traceroute. They both list RTT values.

[NOTE]
--
You must be on one end of the transfer and ping the other end. This means that if you are doing a link:../..gridftp/user/index.html#gridftp-user-thirdpartytransfers[third party transfer] you have to run the ping or traceroute between the two server hosts, not from your client.
--


The bandwidth is a little trickier. Any point in the network can be the
bottleneck, so you either need to talk with your network engineers to
find out what the bottleneck link is or just assume that your host is
the bottleneck and use the speed of your network interface card (NIC).

[NOTE]
--
The value you pick for '-tcp-bs' limits the top speed you can achieve. You will NOT get bandwidth any higher than what you used in the calculation (assuming the RTT is actually what you specified; it varies a little with network conditions). So, if for some reason you want to limit the bandwidth you get, you can do that by judicious choice of '-tcp-bs' values.
--
So where does this formula come from? Because it uses the bandwidth and
the RTT (also known as the latency or delay) it is called the
**bandwidth delay product**. The very simple explanation is this: TCP is
a reliable protocol. It must save a copy of everything it sends out over
the network until the other end acknowledges that it has been received.

As a simple example, if I can put one byte per second onto the network,
and it takes 10 seconds for that byte to get there, and 10 seconds for
the acknowledgment to get back (RTT = 20 seconds), then I would need at
least 20 bytes of storage. Then, hopefully, by the time I am ready to
send byte 21, I have received an acknowledgement for byte 1 and I can
free that space in my buffer. If you want a more detailed explanation,
try the following links on TCP tuning:




* http://www.psc.edu/networking/perf%5ftune.html[http://www.psc.edu/networking/perf_tune.html]

* http://www-didc.lbl.gov/TCP-tuning/[http://www-didc.lbl.gov/TCP-tuning/]

* http://www.ncne.nlanr.net/research/tcp/[http://www.ncne.nlanr.net/research/tcp/]




[[globus-url-copy-parallelismvalue]]
=== How do I choose a value for the parallelism ('-p') option? ===

For most instances, using 4 streams is a very good rule of thumb.
Unfortunately, there is not a good formula for picking an exact answer.
The shape of the graph shown here is very characteristic. 


[[parallelism_chart]]

.Effect of Parallel Streams in GridFTP
--
image::Parallel_Streams.jpg[scaledwidth="75%",align="center"]
--
You get a strong increase in bandwidth, then a sharp knee, after which
additional streams have very little impact. Where this knee is depends
on many things, but it is generally between 2 and 10 streams. Higher
bandwidth, longer round trip times, and more congestion in the network
(which you usually can only guess at based on how applications are
behaving) will move the knee higher (more streams needed). 

In practice, between 4 and 8 streams are usually sufficient. If things
look really bad, try 16 and see how much difference that makes over 8.
However, anything above 16, other than for academic interest, is
basically wasting resources.




[[globus-url-copy-limitations]]
== Limitations ==

There are no limitations for **++globus-url-copy++** in GT 6.0. 


[[globus-url-copy-interactiveclients]]
== Interactive clients for GridFTP ==

The Globus Project does **not** provide an interactive client for
GridFTP. Any normal FTP client will work with a GridFTP server, but it
cannot take advantage of the advanced features of GridFTP. The
interactive clients listed below take advantage of the advanced features
of GridFTP.

There is no endorsement implied by their presence here. We make no
assertion as to the quality or appropriateness of these tools, we simply
provide this for your convenience. We will **not** answer questions,
accept bugs, or in any way shape or form be responsible for these tools,
although they should have mechanisms of their own for such things. 

UberFTP was developed at the NCSA under the auspices of NMI and
TeraGrid:




* NCSA Uberftp only download: http://dims.ncsa.uiuc.edu/set/uberftp/download.html[http://dims.ncsa.uiuc.edu/set/uberftp/download.html]

* UberFTP User's Guide: http://dims.ncsa.uiuc.edu/set/uberftp/userdoc.html[http://dims.ncsa.uiuc.edu/set/uberftp/userdoc.html]


