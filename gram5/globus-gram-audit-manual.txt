= GLOBUS-GRAM-AUDIT(8) =
:doctype: manpage
:man source: University of Chicago

== NAME ==
globus-gram-audit - Load GRAM4 and GRAM5 audit records into a database

== SYNOPSIS ==
**++globus-gram-audit++** [++--conf++ 'CONFIG_FILE'] [++--create++ ] | [++--update=++ 'OLD-VERSION'] [++--check++ ] [++--delete++ ] [++--audit-directory++ 'AUDITDIR'] [++--quiet++ ] 

== Description ==

The **++globus-gram-audit++** program loads audit records to an
SQL-based database. It reads
++$GLOBUS_LOCATION/etc/globus-job-manager.conf++ by default to determine
the audit directory and then uploads all files in that directory that
contain valid audit records to the database configured by the  by
default to determine the audit directory and then uploads all files in
that directory that contain valid audit records to the database
configured by the **++globus_gram_job_manager_auditing_setup_scripts++**
package. If the upload completes successfully, the audit files will be
removed. 

The full set of command-line options to **++globus-gram-audit++**
consist of: 

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
<informaltable frame='none'>
    <tgroup align='left' cols='2'>
        <tbody>
            <row>
                <entry><option>--conf <replaceable>CONFIG_FILE</replaceable></option></entry>
                <entry>
                    <simpara>Use <replaceable>CONFIG_FILE</replaceable> instead
                    of the default from the configuration file
                    for audit database configuration.</simpara>
                </entry>
            </row>
            <row>
                <entry><option>--check</option></entry>
                <entry>
                    <simpara>
                    Check whether the insertion of a record was successful by
                    querying the database after inserting the records. This is
                    used in tests.
                    </simpara>
                </entry>
            </row>
            <row>
                <entry><option>--delete</option></entry>
                <entry>Delete audit records from the database right after inserting them. This is used in tests to avoid filling the databse with test records.</entry>
            </row>
            <row>
                <entry><option>--audit-directory <replaceable>DIR</replaceable></option></entry>
                <entry>Look for audit records in <replaceable>DIR</replaceable>, instead of looking in the directory specified in the job manager configuration. This is used in tests to control which records are loaded to the database and then deleted.</entry>
            </row>
            <row>
                <entry><option>--query <replaceable>SQL</replaceable></option></entry>
                <entry>Perform the given SQL query on the audit database. This uses the database information from the configuration file to determine how to contact the database.</entry>
            </row>
            <row>
                <entry><option>--quiet</option></entry>
                <entry>Reduce the amount of output for common operations.</entry>
            </row>
        </tbody>
    </tgroup>
</informaltable>
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++



== FILES ==

The **++globus-gram-audit++** uses the following files (paths relative
to ++$GLOBUS_LOCATION++. 

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
<informaltable frame='none'>
    <tgroup align='left' cols='2'>
        <tbody>
            <row>
                <entry><filename>etc/globus-gram-job-manager.conf</filename></entry>
                <entry>
                    <simpara>GRAM5 job manager configuration. It includes the
                    default path to the audit directory</simpara>
                </entry>
            </row>
            <row>
                <entry><filename>etc/globus-gram-audit.conf</filename></entry>
                <entry>
                    <simpara>Audit configuration. It includes the
                    information needed to contact the audit database.</simpara>
                </entry>
            </row>
        </tbody>
    </tgroup>
</informaltable>
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++


