<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd"
[
<!ENTITY GRAM "GRAM5" >
<!ENTITY gatekeeper "<command>globus-gatekeeper</command>" >
<!ENTITY seg "<command>globus-scheduler-event-generator</command>" >
<!ENTITY jobmanager "<command>globus-job-manager</command>" >
]>
<chapter id="gram5-configuring" xreflabel="Configuring GRAM5">
    <title>Configuring &GRAM;</title>
    <para> &GRAM; is designed to be usable by default without any manual configuration. However,
        there are many ways to customize a &GRAM; installation to better interact with site
        policies, filesystem layouts, LRM interactions, logging, and auditing. In addition to
        &GRAM;-specific configuration, see <olink targetdoc="gsicAdmin" targetptr="gsic-configuring"
        /> for information about configuring GSI security. </para>
    <section id="gram5-configuring-gatekeeper">
        <title>Gatekeeper Configuration</title>
        <para> The &gatekeeper; has many configuration options related to network configuration,
            security, logging, service path, and nice level. This configuration is located in:
            <variablelist>
                <varlistentry>
                    <term>RPM Package</term>
                    <listitem><simpara><filename>/etc/sysconfig/globus-gatekeeper</filename></simpara></listitem>
                </varlistentry>
                <varlistentry>
                    <term>Debian Package</term>
                    <listitem><simpara><filename>/etc/default/globus-gatekeeper</filename></simpara></listitem>
                </varlistentry>
                <varlistentry>
                    <term>Source Installer</term>
                    <listitem><simpara><replaceable>PREFIX</replaceable><filename>/etc/globus-gatekeeper.conf</filename></simpara></listitem>
                </varlistentry>
                </variablelist>
            </para>
        <para> The following configuration variables are available in the &gatekeeper; configuration
            file: <variablelist>
            <?dbfo term-width="55%"?>
                <varlistentry>
                    <term>GLOBUS_GATEKEEPER_PORT</term>
                    <listitem>
                        <simpara>Gatekeeper Service Port. If not set, the &gatekeeper; uses the
                            default of <literal>2119</literal>.</simpara>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>GLOBUS_LOCATION</term>
                    <listitem>
                        <simpara>Globus Installation Path. If not set, the &gatekeeper; uses the
                            paths defined at package compilation time.</simpara>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>GLOBUS_GATEKEEPER_LOG</term>
                    <listitem>
                        <simpara>Gatekeeper Log Filename. If not set, the &gatekeeper; logs to
                            syslog using the <literal>GRAM-gatekeeper</literal> log identification
                            prefix. The default configuration value is <filename
                                >/var/log/globus-gatekeeper.log</filename></simpara>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>GLOBUS_GATEKEEPER_GRID_SERVICES</term>
                    <listitem>
                        <simpara>Path to grid service definitions. If not set, the &gatekeeper; uses
                            the default of <filename>/etc/grid-services</filename>.</simpara>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>GLOBUS_GATEKEEPER_GRIDMAP</term>
                    <listitem>
                        <simpara>Path to grid-mapfile for authorization. If not set, the
                            &gatekeeper; uses the default of <filename
                                >/etc/grid-security/grid-mapfile</filename>.</simpara>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>GLOBUS_GATEKEEPER_CERT_DIR</term>
                    <listitem>
                        <simpara>Path to a trusted certificate root directory. If not set, the
                            &gatekeeper; uses the default of <filename
                                >/etc/grid-security/certificates</filename>.</simpara>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>GLOBUS_GATEKEEPER_CERT_FILE</term>
                    <listitem>
                        <simpara>Path to the gatekeeper's certificate. If not set, the &gatekeeper;
                            uses the default of <filename
                            >/etc/grid-security/hostcert.pem</filename>.</simpara>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>GLOBUS_GATEKEEPER_KEY_FILE</term>
                    <listitem>
                        <simpara>Path to the gatekeeper's private key. If not set, the &gatekeeper;
                            uses the default of <filename
                            >/etc/grid-security/hostkey.pem</filename>.</simpara>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>GLOBUS_GATEKEEPER_KERBEROS_ENABLED</term>
                    <listitem>
                        <simpara>Flag indicating whether or not the &gatekeeper; will use a kerberos
                            GSSAPI implementation instead of the GSI GSSAPI implementation
                            (untested).</simpara>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>GLOBUS_GATEKEEPER_KMAP</term>
                    <listitem>
                        <simpara>Path to the KMAP authentication module. (untested).</simpara>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>GLOBUS_GATEKEEPER_PIDFILE</term>
                    <listitem>
                        <simpara>Path to a file where the &gatekeeper;'s process ID is written. If
                            not set, &gatekeeper; uses <filename
                                >/var/run/globus-gatekeeper.pid</filename></simpara>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>GLOBUS_GATEKEEPER_NICE_LEVEL</term>
                    <listitem>
                        <simpara>Process nice level for &gatekeeper; and &jobmanager; processes. If
                            not set, the default system process nice level is used.</simpara>
                    </listitem>
                </varlistentry>
            </variablelist></para>
        <para> After modifying the configuration file, restart the &gatekeeper; using the methods
            described in <olink targetdoc="gram5Admin" targetptr="gram5-admin-starting-and-stopping"/>. </para>
    </section>
    <!-- Gatekeeper configuration -->
    <section id="gram5-configuring-seg">
        <title>Scheduler Event Generator Configuration</title>
        <para> The &seg; has several configuration options related to filesystem paths. This
            configuration is located in:
            <variablelist>
                <varlistentry>
                    <term>RPM Package</term>
                    <listitem><simpara><filename>/etc/sysconfig/globus-scheduler-event-generator</filename></simpara></listitem>
                </varlistentry>
                <varlistentry>
                    <term>Debian Package</term>
                    <listitem><simpara><filename>/etc/default/globus-scheduler-event-generator</filename></simpara></listitem>
                </varlistentry>
                <varlistentry>
                    <term>Source Installer</term>
                    <listitem><simpara><replaceable>PREFIX</replaceable><filename>/etc/globus-scheduler-event-generator.conf</filename></simpara></listitem>
                </varlistentry>
            </variablelist>
        </para>
        <para> The following configuration variables are available in the &seg; configuration file: <variablelist>
                <varlistentry>
                    <term>GLOBUS_SEG_PIDFMT</term>
                    <listitem>
                        <simpara>Scheduler Event Generator PID file path format. Modify this to be
                            the location where the &seg; writes its process IDs (one per configured
                            LRM). The format is a <literal>printf</literal> format string with one
                                <literal>%s</literal> to be replaced by the LRM name. By default,
                            &seg; uses <filename
                                >/var/run/globus-scheduler-event-generator-%s.pid</filename>.</simpara>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>GLOBUS_SEG_LOGFMT</term>
                    <listitem>
                        <simpara>Scheduler Event Generator Log path format. Modify this to be the
                            location where &seg; writes its event logs. The format is a <literal
                                >printf</literal> format string with one <literal>%s</literal> to be
                            replaced by the LRM name. By default, &seg; uses <filename
                                >/var/lib/globus/globus-seg-%s</filename>. If you modify this value,
                            you'll need to also update the LRM configuration file to look for the
                            log file in the new location.</simpara>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>GLOBUS_SEG_NICE_LEVEL</term>
                    <listitem>
                        <simpara>Process nice level for &seg; processes. If not set, the default
                            system process nice level is used.</simpara>
                    </listitem>
                </varlistentry>
            </variablelist></para>
        <para> After modifying the configuration file, restart the &seg; using the methods described
            in <olink targetdoc="gram5Admin" targetptr="gram5-admin-starting-and-stopping"/>. </para>
    </section>
    <!-- SEG Configuration -->
    <section id="gram5-configuring-jobmanager">
        <title>Job Manager Configuration</title>
        <para> The &jobmanager; process is started by the &gatekeeper; and uses the configuration
            defined in the service entry for the resource name. By default, these service entries
            use a common configuration file for most job manager features. This configuration is
            located in:
                <variablelist>
                    <varlistentry>
                        <term>RPM Package</term>
                        <listitem><simpara><filename>/etc/globus/globus-gram-job-manager.conf</filename></simpara></listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Debian Package</term>
                            <listitem><simpara><filename>/etc/globus/globus-gram-job-manager.conf</filename></simpara></listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Source Installer</term>
                            <listitem><simpara><replaceable>PREFIX</replaceable><filename>/etc/globus-gram-job-manager.conf</filename></simpara></listitem>
                    </varlistentry>
                </variablelist>
            </para>
        <para>This configuration file is used to construct the command-line options for the
            &jobmanager; program. Thus, all of the options described in <olink
                targetptr="gram5-cmd-globus-job-manager"/> may be used. </para>
        <section>
            <title>Job Manager Logging</title>
            <para> From an administrator's perspective, the most important job manager configuration
                options are likely the ones related to logging and auditing. The default &GRAM;
                configuration puts logs in <filename
                        >/var/log/globus/gram_<replaceable>USERNAME</replaceable>.log</filename>,
                with logging enabled at the <literal>FATAL</literal> and <literal>ERROR</literal>
                levels. To enable more fine-grained logging, add the option <option>-log-levels
                        <replaceable>LEVELS</replaceable></option> to <filename
                    >/etc/globus/globus-gram-job-manager.conf</filename>. The value for
                    <replaceable>LEVELS</replaceable> is a set of log levels joined by the <literal
                    >|</literal> character. The available log levels are:<table
                    id="gram5-log-levels">
                    <title>&GRAM; Log Levels</title>
                    <tgroup cols="3" align="left" colsep="1" rowsep="1">
                        <colspec colname="gram5-log-level-name"/>
                        <colspec colname="gram5-log-level-meaning"/>
                        <colspec colname="gram5-log-level-default"/>
                        <thead>
                            <row>
                                <entry>Level</entry>
                                <entry>Meaning</entry>
                                <entry>Default Behavior</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><literal>FATAL</literal></entry>
                                <entry>Problems which cause the job manager to terminate
                                    prematurely.</entry>
                                <entry>Enabled</entry>
                            </row>
                            <row>
                                <entry><literal>ERROR</literal></entry>
                                <entry>Problems which cause a job or operation to fail.</entry>
                                <entry>Enabled</entry>
                            </row>
                            <row>
                                <entry><literal>WARN</literal></entry>
                                <entry>Problems which cause minor problems with job execution or
                                    monitoring.</entry>
                                <entry>Disabled</entry>
                            </row>
                            <row>
                                <entry><literal>INFO</literal></entry>
                                <entry>Major events in the lifetime of the job manager and its
                                    jobs.</entry>
                                <entry>Disabled</entry>
                            </row>
                            <row>
                                <entry><literal>DEBUG</literal></entry>
                                <entry>Minor events in the lifetime of jobs.</entry>
                                <entry>Disabled</entry>
                            </row>
                            <row>
                                <entry><literal>TRACE</literal></entry>
                                <entry>Job processing details.</entry>
                                <entry>Disabled</entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table></para>
            <para>In RPM or Debian package installs, these logs will be configured to be rotated via
                    <command>logrotate</command>. See <filename
                    >/etc/logrotate.d/globus-job-manager</filename> for details on the default log
                rotation configuration. </para>
        </section>

        <section>
            <title>Firewall Configuration</title>
            <para>
            There are also a few configuration options related to the TCP ports
            the the Job Manager users. This port configuration is useful
            when dealing with firewalls that restrict incoming or outgoing
            ports. To restrict incoming ports (those that the Job Manager
            listens on), add the command-line option 
            <option>-globus-tcp-port-range</option> to the Job Manager
            configuration file like this:

            <programlisting>-globus-tcp-port-range <replaceable>MIN-PORT</replaceable>,<replaceable>MAX-PORT</replaceable></programlisting>

            Where <replaceable>MIN-PORT</replaceable> is the minimum TCP port
            number the Job Manager will listen on and
            <replaceable>MAX-PORT</replaceable> is the maximum TCP port number
            the Job Manager will listen on.
            </para>

            <para>
            Similarly, to restrict the outgoing port numbers that the job
            manager connects form, use the command-line option
            <option>-globus-tcp-source-range</option>, like this:
            
            <programlisting>-globus-tcp-source-range <replaceable>MIN-PORT</replaceable>,<replaceable>MAX-PORT</replaceable></programlisting>

            Where <replaceable>MIN-PORT</replaceable> is the minimum outgoing
            TCP port number the Job Manager will use and
            <replaceable>MAX-PORT</replaceable> is the maximum TCP outgoing
            port number the Job Manager will use.
            </para>

            <para>
            For more information about Globus and firewalls, see <olink
            targetdoc="gtadmin" targetptr="gt-admin-firewall"/>.
            </para>
        </section> <!-- Firewall Configuration -->
    </section>
    <!-- Job Manager Configuration -->
    <section id="gram5-configuring-lrm">
        <title>LRM Adapter Configuration</title>
        <para> Each LRM adapter has its own configuration file which can help customize the adapter
            to the site configuration. Some LRMs use non-standard programs to launch parallel or MPI
            jobs, and some might want to provide queue or project validation to make it easier to
            translate job failures into problems that can be described by &GRAM;. All of the LRM
            adapter configuration files consist of simple <literal>variable="value"</literal> pairs,
            with a leading <literal>#</literal> starting a comment until end-of-line. </para>
        <para> Generally, the &GRAM; LRM configuration files are located in the globus configuration
            directory, with each configuration file named by the LRM name (<literal>fork</literal>,
                <literal>condor</literal>, <literal>pbs</literal>, <literal>sge</literal>, or <literal>slurm</literal>). The
            following table contains the paths to these configurations:
                <variablelist>
                    <varlistentry>
                        <term>RPM Package</term>
                        <listitem><simpara><filename>/etc/globus/globus-LRM.conf</filename></simpara></listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Debian Package</term>
                        <listitem><simpara><filename>/etc/globus/globus-LRM.conf</filename></simpara></listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Source Installer</term>
                        <listitem><simpara><replaceable>PREFIX</replaceable><filename>/etc/globus/globus-LRM.conf</filename></simpara></listitem>
                    </varlistentry>
                </variablelist>
            </para>
        <section>
            <title>Fork</title>
            <para> The <filename>globus-fork.conf</filename> configuration file can define the
                following configuration parameters: <variablelist>
                    <varlistentry>
                        <term>log_path</term>
                        <listitem>
                            <simpara>Path to the <filename>globus-fork.log</filename> file used by
                                the <command>globus-fork-starter</command> and fork SEG
                                module.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>mpiexec</term>
                        <term>mpirun</term>
                        <listitem>
                            <simpara>Path to <command>mpiexec</command> and <command
                                    >mpirun</command> for parallel jobs which use MPI. By default,
                                these are not configured. The LRM adapter will use <command
                                    >mpiexec</command> over <command>mpirun</command> if both are
                                defined.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>softenv_dir</term>
                        <listitem>
                            <simpara>Path to an installation of <ulink
                                    url="http://www.mcs.anl.gov/hs/software/systems/softenv/softenv-intro.html"
                                    >softenv</ulink>, which is used on some systems to manage
                                application environment variables.</simpara>
                        </listitem>
                    </varlistentry>
                </variablelist></para>
        </section>
        <section>
            <title>Condor</title>
            <para> The <filename>globus-condor.conf</filename> configuration file can define the
                following configuration parameters: <variablelist>
                    <varlistentry>
                        <term>condor_os</term>
                        <listitem>
                            <simpara>Custom value for the <literal>OpSys</literal> requirement for
                                condor jobs. If not specified, the system-wide default will be
                                used.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>condor_arch</term>
                        <listitem>
                            <simpara>Custom value for the <literal>OpSys</literal> requirement for
                                condor jobs. If not specified, the system-wide default will be
                                used.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>condor_submit</term>
                        <term>condor_rm</term>
                        <listitem>
                            <simpara>Path to the condor commands that the LRM adapter uses. These
                                are usually determined when the LRM adapter is compiled if the
                                commands are in the <envar>PATH</envar>.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>condor_config</term>
                        <listitem>
                            <simpara>Value of the <envar>CONDOR_CONFIG</envar> environment variable,
                                which might be needed to use condor in some cases.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>check_vanilla_files</term>
                        <listitem>
                            <simpara>Enable checking if executable, standard input, and directory
                                are valid paths for <literal>vanilla</literal> universe jobs. This
                                can detect some types of errors before submitting jobs to condor,
                                but only if the filesystems between the condor submit host and
                                condor execution hosts are equivalent. In other cases, this may
                                cause unneccessary job failures.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>condor_mpi_script</term>
                        <listitem>
                            <simpara>Path to a script to launch MPI jobs on condor</simpara>
                        </listitem>
                    </varlistentry>
                </variablelist></para>
        </section>
        <section>
            <title>PBS</title>
            <para> The <filename>globus-pbs.conf</filename> configuration file can define the
                following configuration parameters: <variablelist>
                    <varlistentry>
                        <term>log_path</term>
                        <listitem>
                            <simpara>Path to PBS server_logs directory. The PBS SEG module parses
                                these logs to generate LRM events.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>pbs_default</term>
                        <listitem>
                            <simpara>Name of the PBS server node, if not the same as the GRAM
                                service node.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>mpiexec</term>
                        <term>mpirun</term>
                        <listitem>
                            <simpara>Path to <command>mpiexec</command> and <command
                                    >mpirun</command> for parallel jobs which use MPI. By default
                                these are not configured. The LRM adapter will use <command
                                    >mpiexec</command> over <command>mpirun</command> if both are
                                defined.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>qsub</term>
                        <term>qstat</term>
                        <term>qdel</term>
                        <listitem>
                            <simpara>Path to the LRM-specific command to submit, check, and delete
                                PBS jobs. These are usually determined when the LRM adapter is
                                compiled if they are in the <envar>PATH</envar>.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>cluster</term>
                        <listitem>
                            <simpara>If this value is set to <literal>yes</literal>, then the LRM
                                adapter will attempt to use a remote shell command to launch
                                multiple instances of the executable on different nodes, as defined
                                by the file named by the <envar>PBS_NODEFILE</envar> environment
                                variable.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>remote_shell</term>
                        <listitem>
                            <simpara>Remote shell command to launch processes on different nodes
                                when <literal>cluster</literal> is set to <literal
                                >yes</literal>.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>cpu_per_node</term>
                        <listitem>
                            <simpara>Number of instances of the executable to launch per allocated
                                node.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>softenv_dir</term>
                        <listitem>
                            <simpara>Path to an installation of <ulink
                                    url="http://www.mcs.anl.gov/hs/software/systems/softenv/softenv-intro.html"
                                    >softenv</ulink> which is used on some systems to manage
                                application environment variables.</simpara>
                        </listitem>
                    </varlistentry>
                </variablelist></para>
        </section>
        <section>
            <title>SGE</title>
            <para> The <filename>globus-sge.conf</filename> configuration file can define the
                following configuration parameters: <variablelist>
                    <varlistentry>
                        <term>sge_root</term>
                        <listitem>
                            <simpara>Root location of the GridEngine installation. If this is set to
                                    <literal>undefined</literal>, then the LRM adapter will try to
                                determine it from the &jobmanager; environment, or if not there, the
                                contents of the file named by the <literal>sge_config</literal>
                                configuration parameter.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>sge_cell</term>
                        <listitem>
                            <simpara>Name of the GridEngine cell to interact with. If this is set to
                                    <literal>undefined</literal>, then the LRM adapter will try to
                                determine it from the &jobmanager; environment, or if not there, the
                                contents of the file named by the <literal>sge_config</literal>
                                configuration parameter.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>sge_config</term>
                        <listitem>
                            <simpara>Path to a file which defines the <envar>SGE_ROOT</envar> and
                                the <envar>SGE_CELL</envar> environment variables.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>log_path</term>
                        <listitem>
                            <simpara>Path to GridEngine reporting file. This value is used by the
                                SGE SEG module. If this is used, GridEngine must be configured to
                                write a reporting file and not load reporting data into an ARCo
                                database.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>qsub</term>
                        <term>qstat</term>
                        <term>qdel</term>
                        <term>qconf</term>
                        <listitem>
                            <simpara>Path to the LRM-specific command to submit, check, and delete
                                GridEngine jobs. These are usually determined when the LRM adapter
                                is compiled if they are in the <envar>PATH</envar>.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>sun_mprun</term>
                        <term>mpirun</term>
                        <listitem>
                            <simpara>Path to <command>mprun</command> and <command>mpirun</command>
                                for parallel jobs which use MPI. By default these are not
                                configured. The LRM adapter will use <command>mprun</command> over
                                    <command>mpirun</command> if both are defined.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>default_pe</term>
                        <listitem>
                            <simpara>Default parallel environment to submit parallel jobs to. If
                                this is not set, then clients must use the <literal
                                    >parallel_environment</literal> RSL attribute to choose
                                one.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>validate_pes</term>
                        <listitem>
                            <simpara>If this value is set to <literal>yes</literal>, then the LRM
                                adapter will verify that the <literal>parallel_environment</literal>
                                RSL attribute value matches one of the parallel environments
                                supported by this GridEngine service.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>available_pes</term>
                        <listitem>
                            <simpara>If this value is defined, use it as a list of parallel
                                environments supported by this GridEngine deployment for validation
                                when <literal>validate_pes</literal> is set to <literal
                                    >yes</literal>. If validation is being done but this value is
                                not set, then the LRM adapter will query the GridEngine service to
                                determine available parallel environments at startup.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>default_queue</term>
                        <listitem>
                            <simpara>Default queue to use if the job description does not name
                                one.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>validate_queues</term>
                        <listitem>
                            <simpara>If this value is set to <literal>yes</literal>, then the LRM
                                adapter will verify that the <literal>queue</literal> RSL attribute
                                value matches one of the queues supported by this GridEngine
                                service.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>available_queues</term>
                        <listitem>
                            <simpara>If this value is defined, use it as a list of queues supported
                                by this GridEngine deployment for validation when <literal
                                    >validate_queues</literal> is set to <literal>yes</literal>. If
                                validation is being done but this value is not set, then the LRM
                                adapter will query the GridEngine service to determine available
                                queues at startup.</simpara>
                        </listitem>
                    </varlistentry>
                </variablelist></para>

                <section><title>Enabling reporting for the GridEngine Scheduler Event Generator</title>
                <para>
                In order to use the Scheduler Event Generator with GridEngine,
                the job reporting feature must be enabled, and ARCo database storage must
                not be enabled. To enable this, use the command <command>qconf -mconf</command>
                and modify the <literal>reporting_params</literal> parameter so that the
                options <literal>reporting</literal> and <literal>joblog</literal> are set
                to <literal>true</literal>.
                </para>
                </section>
        </section>
        <section>
            <title>SLURM</title>
            <para> The <filename>globus-slurm.conf</filename> configuration file can define the
                following configuration parameters: <variablelist>
                    <varlistentry>
                        <term>srun</term>
                        <term>sbatch</term>
                        <term>salloc</term>
                        <term>scancel</term>
                        <listitem>
                            <simpara>Path to the SLURM commands.</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>mpi_type</term>
                        <listitem>
                            <simpara>MPI implementation to use (either openmpi or mpich2).</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>openmpi_path</term>
                        <listitem>
                            <simpara>Path to the OpenMPI implementation if available</simpara>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>mpich2_path</term>
                        <listitem>
                            <simpara>Path to the MPICH 2 implementation if available</simpara>
                        </listitem>
                    </varlistentry>
                </variablelist></para>
        </section>
    </section>
    <!-- LRM Configuration -->
    <section>
        <title>Auditing</title>
        <para> The <command>globus-gram-audit</command> configuration defines information about the
            database to load the &GRAM; audit records into. This configuration is located in: 
            <variablelist>
                <varlistentry>
                    <term>RPM Package</term>
                    <listitem><simpara><filename>/etc/globus/gram-audit.conf</filename></simpara></listitem>
                </varlistentry>
                <varlistentry>
                    <term>Debian Package</term>
                    <listitem><simpara><filename>/etc/globus/gram-audit.conf</filename></simpara></listitem>
                </varlistentry>
                <varlistentry>
                    <term>Source Installer</term>
                    <listitem><simpara><replaceable>PREFIX</replaceable><filename>/etc/globus/gram-audit.conf</filename></simpara></listitem>
                </varlistentry>
            </variablelist>
        </para>
        <para>This configuration file contains the following attributes. Each attribute is defined
            by a <literal>ATTRIBUTE:VALUE</literal> pair. <table>
                <title>Audit Configuration Attributes</title>
                <tgroup cols="3">
                    <thead>
                        <row>
                            <entry>Attribute Name</entry>
                            <entry>Values</entry>
                            <entry>Default</entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>DRIVER</entry>
                            <entry>
                                <simpara> The name of the Perl 5 DBI driver for the database to be
                                    used. The supported drivers for this program are <literal
                                        >SQLite</literal>, <literal>Pg</literal> (for PostgreSQL),
                                    and <literal>mysql</literal>. </simpara>
                            </entry>
                            <entry><literal>SQLite</literal></entry>
                        </row>
                        <row>
                            <entry>DATABASE</entry>
                            <entry>
                                <simpara> The DBI data source specfication to contact the audit
                                    database. </simpara>
                            </entry>
                            <entry><literal>dbname=</literal><filename>/var/gram_audit_database/gram_audit.db</filename></entry>
                        </row>
                        <row>
                            <entry>USERNAME</entry>
                            <entry>Username to authenticate as to the database</entry>
                            <entry/>
                        </row>
                        <row>
                            <entry>PASSWORD</entry>
                            <entry>Password to use to authenticate with the database</entry>
                            <entry/>
                        </row>
                        <row>
                            <entry>AUDITVERSION</entry>
                            <entry>Version of the audit database table schemas to use. May be
                                    <literal>1</literal> or <literal>1TG</literal> for this version
                                of the software.</entry>
                            <entry>1</entry>
                        </row>
                    </tbody>
                </tgroup>
            </table></para>
    </section>
    <!-- Auditing -->

    <section>
        <title>RSL Attributes</title>
        <para>
        &GRAM; uses the <olink targetdoc="gram5PI" targetptr="gram5-rsl">RSL
        language</olink> to encode job descriptions. The attributes supported
        by gram are defined in <olink targetdoc="gram5PI"
        targetptr="gram5-rvf">RSL Validation Files</olink>. These definitions
        contain information about when the different RSL attributes are
        valid and what their default values might be if not present. &GRAM;
        will look in <filename>/etc/globus/gram/job-manager.rvf</filename> and
        <filename>/etc/globus/gram/<replaceable>LRM</replaceable>.rvf</filename>
        for site-specfic changes to the RSL validation file.
        </para>

    </section> <!-- RSL Attributes -->
</chapter>
